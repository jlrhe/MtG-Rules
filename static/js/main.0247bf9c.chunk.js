(this["webpackJsonpmtg-rules-front"]=this["webpackJsonpmtg-rules-front"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),c=n(5),a=n.n(c),s=(n(11),n(2)),l=(n(12),function(e){if(e.length<=0||void 0===e)return[{id:1,title:"loading...",chapters:[{id:100,title:"loading...",rules:[{id:"100.1.",rule:"Loading Rules..."}]}]}];for(var t=e.replace("\r\n \r\n","\r\n\r\n").split("\r\n\r\n").map((function(e){var t=e.trim();return"\r\n"===e.slice(0,3)&&(t=e.slice(3)).trim(),t})).filter((function(e){return!isNaN(e[0])})),n=0;n<9;n++)t.shift();var i=[];return t.forEach((function(e){if(" "===e[2])i.push({id:parseInt(e.slice(0,1)),title:e.slice(3),chapters:[]});else if(" "===e[3])i.push({id:parseInt(e.slice(0,2)),title:e.slice(4),chapters:[]});else if(isNaN(e.slice(0,3))||" "!==e[4]){if(!isNaN(e.slice(0,3))&&!isNaN(e[4])){var t=parseInt(e[0])-1,n=parseInt(e.slice(1,3));if(void 0!==i[t].chapters[n]){var r={id:e.slice(0,e.indexOf(" ")),rule:e.slice(e.indexOf(" ")+1),example:""};-1!==r.rule.indexOf("Example")&&(r.rule=e.slice(e.indexOf(" ")+1,e.indexOf("Example")),r.example=e.slice(e.indexOf("Example"))),i[t].chapters[n].rules.push(r)}}}else{var c=parseInt(e[0])-1;i[c].chapters.push({id:parseInt(e.slice(0,3)),title:e.slice(5),rules:[]})}})),i}),o=(n(13),n(6)),d=n.n(o),u=n(0),h=function(e){var t=e.id,n=e.rule,i=e.example,r=e.searchString;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(d.a,{search:r,children:t+" "+n}),Object(u.jsx)("p",{className:"example",children:i})]})},p=(n(23),function(e){var t=e.id,n=e.title,i=e.sectionTitle,r=e.rules,c=e.searchString,a=r.filter((function(e){return e.rule.toLowerCase().includes(c.toLowerCase())}));return console.log(a),600===t?Object(u.jsxs)("section",{className:"chapter",children:[Object(u.jsx)("h2",{children:i}),Object(u.jsx)("h3",{children:t+". "+n}),Object(u.jsx)("p",{children:"This chapter has no rules."})]}):0===Object.keys(a).length?Object(u.jsxs)("section",{className:"chapter",children:[Object(u.jsx)("h2",{children:i}),Object(u.jsx)("h3",{children:t+". "+n}),Object(u.jsx)("p",{children:"No rules found"})]}):Object(u.jsxs)("section",{className:"chapter",children:[Object(u.jsx)("h2",{children:i}),Object(u.jsx)("h3",{children:t+". "+n}),a.map((function(e){var t=e.id,n=e.rule,i=e.example;return Object(u.jsx)(h,{id:t,rule:n,example:i,searchString:c},t)}))]})}),j=n(4),f=n.n(j),b=(n(24),function(e){var t=e.id,n=e.title,i=e.chapterChange;return Object(u.jsx)("button",{className:"chapter-selector",onClick:function(){i(t)},children:t+" "+n})}),x=(n(25),function(e){var t=e.id,n=e.title,i=e.chapters,r=e.chapterChange;return Object(u.jsx)("section",{className:"section",children:Object(u.jsxs)(f.a,{className:"closed",openedClassName:"open",trigger:t+". "+n,transitionTime:"200",children:[Object(u.jsx)("span",{className:"material-icons section-dropdown-icon",children:"arrow_drop_down"}),i.map((function(e){var t=e.id,n=e.title;return Object(u.jsx)(b,{chapterChange:r,id:t,title:n},t)}))]})})}),O=(n(26),function(e){var t=e.parsedRules,n=e.chapterChange;return Object(u.jsx)("div",{className:"table-of-contents",children:Object(u.jsxs)(f.a,{trigger:"Contents",classParentString:"Contents",openedClassName:"open",transitionTime:"200",open:"true",children:[Object(u.jsx)("span",{className:"material-icons contents-dropdown-icon",children:"arrow_drop_down"}),t.map((function(e){var t=e.id,i=e.title,r=e.chapters;return Object(u.jsx)(x,{id:t,title:i,chapters:r,chapterChange:n},t)}))]})})}),m=(n(27),function(e){var t=e.placeholder,n=e.handleChange;return Object(u.jsx)("div",{className:"search-bar",children:Object(u.jsx)("input",{className:"search",type:"search",placeholder:t,onChange:n})})}),g=(n(28),n(29),function(e){var t=e.type,n=e.handleClick,i=e.text,r=e.disabled,c=void 0!==r&&r,a=e.hidden;return void 0!==a&&a?Object(u.jsx)(u.Fragment,{}):Object(u.jsx)("button",{disabled:c,className:t,onClick:n,children:i})}),v=function(e){var t=e.nextChapter,n=e.previousChapter,i=e.nextSection,r=e.previousSection;return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)(g,{type:"navigation",text:"<= Chapter",handleClick:n}),Object(u.jsx)(g,{type:"navigation",text:"<=<= Section",handleClick:r}),Object(u.jsx)(g,{type:"navigation",text:"Section=>=>",handleClick:i}),Object(u.jsx)(g,{type:"navigation",text:"Chapter=>",handleClick:t})]})},C=function(){var e=Object(i.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(i.useState)(1),a=Object(s.a)(c,2),o=a[0],d=a[1],h=Object(i.useState)(100),j=Object(s.a)(h,2),f=j[0],b=j[1],x=Object(i.useState)(""),g=Object(s.a)(x,2),C=g[0],N=g[1],w=Object(i.useState)({id:100,title:"loading...",rules:[{id:"100.1.",rule:"Loading Rules..."}]}),S=Object(s.a)(w,2),y=S[0],k=S[1],I="https://frozen-dawn-34650.herokuapp.com/media.wizards.com/2021/downloads/MagicCompRules%2020210419.txt",E=Object(i.useState)([{id:1,title:"loading...",chapters:[{id:100,title:"loading...",rules:[{id:"100.1.",rule:"Loading Rules..."}]}]}]),R=Object(s.a)(E,2),T=R[0],L=R[1],M=function(e,t){return T.find((function(t){return t.id===parseInt(e)})).chapters.find((function(e){return e.id===parseInt(t)}))},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return T.find((function(t){return t.id===e}))},P=function(e){if(!e.ok)throw alert("There was an error fetching the rules. \n Please try again when the winds of magic are more favorable."),Error(e.statusText);return e};return Object(i.useEffect)((function(){fetch(I).then(P).then((function(e){return e.text()})).then((function(e){r(e),console.log("rules set")})).catch((function(e){alert("There was an error fetching the rules. \n Please try again when the winds of magic are more favorable."),console.log(e)}))}),[I]),Object(i.useEffect)((function(){L(l(n))}),[n]),Object(i.useEffect)((function(){o!==Math.floor(f/100)&&o!==Math.floor(f/1e3)||k(M(o,f))}),[T,o,f]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("header",{className:"page-header",children:"MtG Rules"}),Object(u.jsx)(m,{placeholder:"Search shown rules by typing here",handleChange:function(e){N(e.target.value)}}),Object(u.jsxs)("div",{className:"main-container",children:[Object(u.jsxs)("div",{className:"main-view",children:[Object(u.jsx)(v,{nextChapter:function(){void 0===M(o,f+1)||b(f+1)},previousChapter:function(){f===100*o||b(f-1)},nextSection:function(){void 0===z(o+1)||(d(o+1),b(100*(o+1)))},previousSection:function(){1===o||(d(o-1),b(100*(o-1)))}}),Object(u.jsx)(p,{id:y.id,title:y.title,sectionTitle:z(o).title,rules:y.rules,searchString:C})]}),Object(u.jsx)(O,{parsedRules:T,chapterChange:function(e){var t;parseInt(e.toString()[0])!==o&&(t=parseInt(e.toString()[0]),d(parseInt(t))),b(e)}})]}),Object(u.jsx)("p",{className:"disclaimer",children:"MtG Rules (this website) is unofficial Fan Content permitted under the Fan Content Policy. Not approved/endorsed by Wizards. Portions of the materials used are property of Wizards of the Coast. \xa9Wizards of the Coast LLC."})]})};a.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(C,{})}),document.getElementById("root"))}],[[30,1,2]]]);
//# sourceMappingURL=main.0247bf9c.chunk.js.map