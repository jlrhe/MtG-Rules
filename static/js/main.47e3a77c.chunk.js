(this["webpackJsonpmtg-rules-front"]=this["webpackJsonpmtg-rules-front"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),c=n(5),s=n.n(c),a=(n(11),n(2)),l=(n(12),function(e){if(e.length<=0||void 0===e)return[{id:1,title:"loading...",chapters:[{id:100,title:"loading...",rules:[{id:"100.1.",rule:"Loading Rules..."}]}]}];for(var t=e.replace("\r\n \r\n","\r\n\r\n").split("\r\n\r\n").map((function(e){var t=e.trim();return"\r\n"===e.slice(0,3)&&(t=e.slice(3)).trim(),t})).filter((function(e){return!isNaN(e[0])})),n=0;n<9;n++)t.shift();var r=[];return t.forEach((function(e){if(" "===e[2])r.push({id:parseInt(e.slice(0,1)),title:e.slice(3),chapters:[]});else if(" "===e[3])r.push({id:parseInt(e.slice(0,2)),title:e.slice(4),chapters:[]});else if(isNaN(e.slice(0,3))||" "!==e[4]){if(!isNaN(e.slice(0,3))&&!isNaN(e[4])){var t=parseInt(e[0])-1,n=parseInt(e.slice(1,3));if(void 0!==r[t].chapters[n]){var i={id:e.slice(0,e.indexOf(" ")),rule:e.slice(e.indexOf(" ")+1),example:""};-1!==i.rule.indexOf("Example")&&(i.rule=e.slice(e.indexOf(" ")+1,e.indexOf("Example")),i.example=e.slice(e.indexOf("Example"))),r[t].chapters[n].rules.push(i)}}}else{var c=parseInt(e[0])-1;r[c].chapters.push({id:parseInt(e.slice(0,3)),title:e.slice(5),rules:[]})}})),r}),o=(n(13),n(6)),d=n.n(o),h=n(0),u=function(e){var t=e.id,n=e.rule,r=e.example,i=e.searchString;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(d.a,{search:i,children:t+" "+n}),Object(h.jsx)("p",{className:"example",children:r})]})},j=(n(23),function(e){var t=e.id,n=e.title,i=e.sectionTitle,c=e.rules,s=e.searchString,l=Object(r.useState)(c),o=Object(a.a)(l,2),d=o[0],j=o[1];return Object(r.useEffect)((function(){j(c.filter((function(e){return e.rule.toLowerCase().includes(s.toLowerCase())})))}),[c,s]),600===t?Object(h.jsxs)("section",{className:"chapter",children:[Object(h.jsx)("h2",{children:i}),Object(h.jsx)("h3",{children:t+". "+n}),Object(h.jsx)("p",{children:"This chapter has no rules."})]}):0===Object.keys(d).length?Object(h.jsxs)("section",{className:"chapter",children:[Object(h.jsx)("h2",{children:i}),Object(h.jsx)("h3",{children:t+". "+n}),Object(h.jsx)("p",{children:"No rules found"})]}):Object(h.jsxs)("section",{className:"chapter",children:[Object(h.jsx)("h2",{children:i}),Object(h.jsx)("h3",{children:t+". "+n}),d.map((function(e){return Object(h.jsx)(u,{id:e.id,rule:e.rule,example:e.example,searchString:s},e.id)}))]})}),p=n(4),f=n.n(p),b=(n(24),function(e){var t=e.id,n=e.title,r=e.chapterChange;return Object(h.jsx)("button",{className:"chapter-selector",onClick:function(){r(t)},children:t+" "+n})}),x=(n(25),function(e){var t=e.id,n=e.title,r=e.chapters,i=e.chapterChange;return Object(h.jsx)("section",{className:"section",children:Object(h.jsxs)(f.a,{className:"closed",openedClassName:"open",trigger:t+". "+n,transitionTime:"200",children:[Object(h.jsx)("span",{className:"material-icons section-dropdown-icon",children:"arrow_drop_down"}),r.map((function(e){var t=e.id,n=e.title;return Object(h.jsx)(b,{chapterChange:i,id:t,title:n},t)}))]})})}),O=(n(26),function(e){var t=e.parsedRules,n=e.chapterChange;return Object(h.jsx)("div",{className:"table-of-contents",children:Object(h.jsxs)(f.a,{trigger:"Contents",classParentString:"Contents",openedClassName:"open",transitionTime:"200",open:"true",children:[Object(h.jsx)("span",{className:"material-icons contents-dropdown-icon",children:"arrow_drop_down"}),t.map((function(e){var t=e.id,r=e.title,i=e.chapters;return Object(h.jsx)(x,{id:t,title:r,chapters:i,chapterChange:n},t)}))]})})}),m=(n(27),function(e){var t=e.placeholder,n=e.handleChange;return Object(h.jsx)("div",{className:"search-bar",children:Object(h.jsx)("input",{className:"search",type:"search",placeholder:t,onChange:n})})}),g=(n(28),n(29),function(e){var t=e.type,n=e.handleClick,r=e.text,i=e.disabled,c=void 0!==i&&i,s=e.hidden;return void 0!==s&&s?Object(h.jsx)(h.Fragment,{}):Object(h.jsx)("button",{disabled:c,className:t,onClick:n,children:r})}),v=function(e){var t=e.nextChapter,n=e.previousChapter,r=e.nextSection,i=e.previousSection;return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(g,{type:"navigation",text:"<= Chapter",handleClick:n}),Object(h.jsx)(g,{type:"navigation",text:"<=<= Section",handleClick:i}),Object(h.jsx)(g,{type:"navigation",text:"Section=>=>",handleClick:r}),Object(h.jsx)(g,{type:"navigation",text:"Chapter=>",handleClick:t})]})},C=function(){var e=Object(r.useState)(""),t=Object(a.a)(e,2),n=t[0],i=t[1],c=Object(r.useState)(1),s=Object(a.a)(c,2),o=s[0],d=s[1],u=Object(r.useState)(100),p=Object(a.a)(u,2),f=p[0],b=p[1],x=Object(r.useState)(""),g=Object(a.a)(x,2),C=g[0],N=g[1],w=Object(r.useState)({id:100,title:"loading...",rules:[{id:"100.1.",rule:"Loading Rules..."}]}),S=Object(a.a)(w,2),y=S[0],k=S[1],I="https://frozen-dawn-34650.herokuapp.com/media.wizards.com/2021/downloads/MagicCompRules%2020210419.txt",R=Object(r.useState)([{id:1,title:"loading...",chapters:[{id:100,title:"loading...",rules:[{id:"100.1.",rule:"Loading Rules..."}]}]}]),E=Object(a.a)(R,2),T=E[0],M=E[1],L=function(e,t){return T.find((function(t){return t.id===parseInt(e)})).chapters.find((function(e){return e.id===parseInt(t)}))},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return T.find((function(t){return t.id===e}))},G=function(e){if(!e.ok)throw alert("There was an error fetching the rules. \n Please try again when the winds of magic are more favorable."),Error(e.statusText);return e};return Object(r.useEffect)((function(){fetch(I).then(G).then((function(e){return e.text()})).then((function(e){i(e),console.log("rules set")})).catch((function(e){alert("There was an error fetching the rules. \n Please try again when the winds of magic are more favorable."),console.log(e)}))}),[I]),Object(r.useEffect)((function(){M(l(n))}),[n]),Object(r.useEffect)((function(){o!==Math.floor(f/100)&&o!==Math.floor(f/1e3)||k(L(o,f))}),[T,o,f]),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("header",{className:"page-header",children:"MtG Rules"}),Object(h.jsx)(m,{placeholder:"Search shown rules by typing here",handleChange:function(e){N(e.target.value)}}),Object(h.jsxs)("div",{className:"main-container",children:[Object(h.jsxs)("div",{className:"main-view",children:[Object(h.jsx)(v,{nextChapter:function(){void 0===L(o,f+1)||b(f+1)},previousChapter:function(){f===100*o||b(f-1)},nextSection:function(){void 0===z(o+1)||(d(o+1),b(100*(o+1)))},previousSection:function(){1===o||(d(o-1),b(100*(o-1)))}}),Object(h.jsx)(j,{id:y.id,title:y.title,sectionTitle:z(o).title,rules:y.rules,searchString:C})]}),Object(h.jsx)(O,{parsedRules:T,chapterChange:function(e){var t;parseInt(e.toString()[0])!==o&&(t=parseInt(e.toString()[0]),d(parseInt(t))),b(e)}})]}),Object(h.jsxs)("p",{className:"disclaimer",children:["MtG Rules (this website) is unofficial Fan Content permitted under the Fan Content Policy. Not approved/endorsed by Wizards. Portions of the materials used are property of Wizards of the Coast. \xa9Wizards of the Coast LLC. ",Object(h.jsx)("br",{})," The rules are from:"," ",Object(h.jsx)("a",{href:"https://media.wizards.com/2021/downloads/MagicCompRules%2020210419.txt",children:"Magic: The Gathering Comprehensive Rules"}),", dated April 22, 2021. If these rules are outdated please let me know."," ",Object(h.jsx)("br",{}),"Source code for this page can be found at"," ",Object(h.jsx)("a",{href:"https://github.com/jlrhe/MtG-Rules",children:"Github"})]})]})};s.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(C,{})}),document.getElementById("root"))}],[[30,1,2]]]);
//# sourceMappingURL=main.47e3a77c.chunk.js.map