{"version":3,"sources":["parser/parser.js","components/rule/rule.component.jsx","components/chapter/chapter.component.jsx","components/chapter-selector/chapter-selector.component.jsx","components/section/section.component.jsx","components/table-of-contents/table-of-contents.component.jsx","components/search-box/search-box.component.jsx","App.js","index.js"],"names":["parser","rawRules","length","undefined","id","title","chapters","rules","rule","filteredRules","split","map","element","trimmedElement","trim","slice","filter","value","isNaN","i","shift","parsedRules","forEach","push","parseInt","section","chapterIndex","indexOf","example","Rule","className","Chapter","ChapterSelector","chapterChange","onClick","Section","handleChapterChange","chapter","TableOfContents","sectionChange","nextChapter","previousChapter","SearchBox","placeholder","handleChange","type","onChange","App","useState","setRules","selectedSection","setSelectedSection","selectedChapter","setSelectedChapter","selectedChapterData","setSelectedChapterData","rulesUrl","setParsedRules","handleSectionChange","console","log","findChapter","sectionToFind","chapterToFind","find","handleFetchError","response","ok","alert","Error","statusText","useEffect","fetch","then","text","textString","toString","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4edc3c94.chunk.js","sourcesContent":["const parser = (rawRules) => {\r\n  //if the rules haven't been fetched yet\r\n  if (rawRules.length <= 0 || rawRules === undefined) {\r\n    return [\r\n      {\r\n        id: 1,\r\n        title: \"loading...\",\r\n        chapters: [\r\n          {\r\n            id: 100,\r\n            title: \"loading...\",\r\n            rules: [{ id: \"100.1.\", rule: \"Loading Rules...\" }],\r\n          },\r\n        ],\r\n      },\r\n    ];\r\n  }\r\n  const splittedRules = rawRules.split(\"\\r\\n\\r\\n\");\r\n  //some \"wanted\" elements start with linebreaks or spaces so let's get rid of those\r\n  let trimmedRules = splittedRules.map((element) => {\r\n    let trimmedElement = element.trim();\r\n    //oddly enough \"\\r\\n\" is 3 characters\r\n    if (element.slice(0, 3) === \"\\r\\n\") {\r\n      trimmedElement = element.slice(3);\r\n      trimmedElement.trim(); //in case there are spaces after linebreak\r\n    }\r\n    return trimmedElement;\r\n  });\r\n\r\n  //Filter out everything that doesn't start with a number\r\n  let filteredRules = trimmedRules.filter((value) => !isNaN(value[0]));\r\n\r\n  //removing the contents listing. There must be a better way to do this - I'll come back to this when time allows.\r\n  for (let i = 0; i < 9; i++) {\r\n    filteredRules.shift();\r\n  }\r\n\r\n  //console.log(\"parser, filtered: \", filteredRules);\r\n\r\n  //Let's now build a JSON object from the rules\r\n  let parsedRules = [];\r\n\r\n  //create sections\r\n  filteredRules.forEach((element) => {\r\n    //section numbers are of form \"x. \". if the rules ever expand to double digit sections this is covered..\r\n    if (element[2] === \" \") {\r\n      parsedRules.push({\r\n        id: parseInt(element.slice(0, 1)),\r\n        title: element.slice(3),\r\n        chapters: [],\r\n      });\r\n    } else if (element[3] === \" \") {\r\n      parsedRules.push({\r\n        id: parseInt(element.slice(0, 2)),\r\n        title: element.slice(4),\r\n        chapters: [],\r\n      });\r\n    }\r\n    //chapter numbers are of form \"xxx. \"\r\n    else if (!isNaN(element.slice(0, 3)) && element[4] === \" \") {\r\n      let section = parseInt(element[0]) - 1;\r\n      parsedRules[section].chapters.push({\r\n        id: parseInt(element.slice(0, 3)),\r\n        title: element.slice(5),\r\n        rules: [],\r\n      });\r\n      //rule numbers are of form \"xxx.x...\" (x is a number).\r\n    } else if (!isNaN(element.slice(0, 3)) && !isNaN(element[4])) {\r\n      let section = parseInt(element[0]) - 1;\r\n      let chapterIndex = parseInt(element.slice(1, 3));\r\n      if (parsedRules[section].chapters[chapterIndex] !== undefined) {\r\n        //there are undefineds so this is neccessary, but it also means there's an issue which I'll have to look into at some point\r\n        let rule = {\r\n          id: element.slice(0, element.indexOf(\" \")),\r\n          rule: element.slice(element.indexOf(\" \") + 1),\r\n          example: \"\",\r\n        };\r\n        if (rule.rule.indexOf(\"Example\") !== -1) {\r\n          //if there's an example\r\n          rule.rule = element.slice(\r\n            element.indexOf(\" \") + 1,\r\n            element.indexOf(\"Example\")\r\n          );\r\n          rule.example = element.slice(element.indexOf(\"Example\"));\r\n        }\r\n        parsedRules[section].chapters[chapterIndex].rules.push(rule);\r\n      }\r\n    }\r\n  });\r\n  //console.log(\"parser: \", parsedRules);\r\n  return parsedRules;\r\n  //hard coded for development\r\n  /*   let parsed = [\r\n    {\r\n      id: \"1.\",\r\n      title: \"Game Concepts\",\r\n      chapters: [\r\n        {\r\n          id: \"100.\",\r\n          title: \"General\",\r\n          rules: [\r\n            {\r\n              id: \"100.1.\",\r\n              rule: \"These Magic rules apply to any Magic...\",\r\n              example: \"\",\r\n            },\r\n            {\r\n              id: \"100.1a\",\r\n              rule: \"A two-player game is a game that begins with only two players.\",\r\n              example: \"\",\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          id: \"101.\",\r\n          title: \"The Magic Golden Rules\",\r\n          rules: [\r\n            {\r\n              id: \"101.1\",\r\n              rule: \"Whenever a card’s text directly contradicts these ...\",\r\n              example: \"\",\r\n            },\r\n            {\r\n              id: \"101.2\",\r\n              rule: \"When a rule or effect allows or directs something to...\",\r\n              example: \"\",\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      id: \"2.\",\r\n      title: \"Parts of a Card\",\r\n      chapters: [\r\n        {\r\n          id: \"200.\",\r\n          title: \"General\",\r\n          rules: [\r\n            {\r\n              id: \"200.1.\",\r\n              rule: \"The parts of a card are name, mana cost, illustration, color indicator...\",\r\n              example: \"\",\r\n            },\r\n            {\r\n              id: \"200.2\",\r\n              rule: \"Some parts of a card are also characteristics of the object that...\",\r\n              example: \"\",\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          id: \"201.\",\r\n          title: \"Name\",\r\n          rules: [\r\n            {\r\n              id: \"201.1\",\r\n              rule: \"The name of a card is printed...\",\r\n              example: \"\",\r\n            },\r\n            {\r\n              id: \"201.2\",\r\n              rule: \"A card’s name is always considered to be the English...\",\r\n              example:\r\n                \"Example: when you test an app it ahelps to have example texts\",\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n    },\r\n  ];\r\n  return parsed; */\r\n};\r\n\r\nexport default parser;\r\n","import React from \"react\";\r\nimport \"./rule.styles.css\";\r\n\r\nconst Rule = ({ id, rule, example }) => {\r\n  return (\r\n    <>\r\n      <p>{id + \" \" + rule}</p>\r\n      <p className=\"example\">{example}</p>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Rule;\r\n","import React from \"react\";\r\nimport Rule from \"../rule/rule.component\";\r\nimport \"./chapter.styles.css\";\r\n\r\nconst Chapter = ({ id, title, rules }) => {\r\n  return (\r\n    <section className=\"chapter\">\r\n      <h3>{id + \". \" + title}</h3>\r\n      {rules.map(({ id, rule, example }) => (\r\n        <Rule key={id} id={id} rule={rule} example={example} />\r\n      ))}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Chapter;\r\n","import React from \"react\";\r\nimport \"./chapter-selector.styles.css\";\r\n\r\nconst ChapterSelector = ({ id, title, chapterChange }) => {\r\n  const handleClick = () => {\r\n    chapterChange(id);\r\n  };\r\n  return <button onClick={handleClick}>{id + \" \" + title}</button>;\r\n};\r\n\r\nexport default ChapterSelector;\r\n","import React from \"react\";\r\nimport ChapterSelector from \"../chapter-selector/chapter-selector.component\";\r\n\r\nconst Section = ({ id, title, chapters, chapterChange }) => {\r\n  const handleChapterChange = (chapter) => {\r\n    chapterChange(chapter);\r\n  };\r\n  return (\r\n    <section>\r\n      <h3>{id + \". \" + title}</h3>\r\n      {chapters.map(({ id, title, rules }) => (\r\n        <ChapterSelector\r\n          chapterChange={handleChapterChange}\r\n          key={id}\r\n          id={id}\r\n          title={title}\r\n        />\r\n      ))}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Section;\r\n","import React from \"react\";\r\nimport Section from \"../section/section.component\";\r\nimport \"./table-of-contents.styles.css\";\r\n\r\nconst TableOfContents = ({\r\n  parsedRules,\r\n  sectionChange,\r\n  chapterChange,\r\n  nextChapter,\r\n  previousChapter,\r\n}) => {\r\n  const handleNextChapter = () => {\r\n    nextChapter();\r\n  };\r\n  const handlePreviousChapter = () => {\r\n    previousChapter();\r\n  };\r\n  const handleChapterChange = (chapter) => {\r\n    chapterChange(chapter);\r\n  };\r\n  return (\r\n    <div className=\"table-of-contents\">\r\n      <h2>Contents</h2>\r\n      <button onClick={handlePreviousChapter}>&lt;= Previous Chapter</button>\r\n      <button onClick={handleNextChapter}>Next Chapter =&gt;</button>\r\n      {parsedRules.map(({ id, title, chapters }) => (\r\n        <Section\r\n          key={id}\r\n          id={id}\r\n          title={title}\r\n          chapters={chapters}\r\n          chapterChange={handleChapterChange}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TableOfContents;\r\n","import React from \"react\";\r\nimport \"./search-box.styles.css\";\r\n\r\nconst SearchBox = ({ placeholder, handleChange }) => (\r\n  <div className=\"search-bar\">\r\n    <input\r\n      className=\"search\"\r\n      type=\"search\"\r\n      placeholder={placeholder}\r\n      onChange={handleChange}\r\n    />\r\n  </div>\r\n);\r\nexport default SearchBox;\r\n","/*\nTODO: \n  error handling (when fetch fails at the very least)\n  event handlers for Contents\n  filter with search\n  Usability (collapsing sections in toc, next/previous chapter buttons)\n  possibility to show all rules at the same time and search them\n  first styling pass (at least a dark mode)\n  Extra features (hyperlink when a rule references another, possibility for user to select alternative file by URL)\n  optimize parser and make it more robust so there's maybe a possibility of reading a different txt file...\n*/\nimport React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport parser from \"./parser/parser\";\nimport Chapter from \"./components/chapter/chapter.component\";\nimport TableOfContents from \"./components/table-of-contents/table-of-contents.component\";\nimport SearchBox from \"./components/search-box/search-box.component\";\n\nconst App = () => {\n  const [rules, setRules] = useState(\"\");\n  const [selectedSection, setSelectedSection] = useState(1); //separate from selectedChapter to allow dynamic Contents view\n  const [selectedChapter, setSelectedChapter] = useState(100);\n  const [selectedChapterData, setSelectedChapterData] = useState({\n    id: 100,\n    title: \"loading...\",\n    rules: [{ id: \"100.1.\", rule: \"Loading Rules...\" }],\n  });\n  //cors proxy is fine for fetching static data without credentials\n  const [rulesUrl, setRulesUrl] = useState(\n    \"https://frozen-dawn-34650.herokuapp.com/media.wizards.com/2021/downloads/MagicCompRules%2020210419.txt\"\n  );\n\n  //placeholder object needed, because I anticipate fetching and parsing the rules to potentially take a few seconds\n  const [parsedRules, setParsedRules] = useState([\n    {\n      id: 1,\n      title: \"loading...\",\n      chapters: [\n        {\n          id: 100,\n          title: \"loading...\",\n          rules: [{ id: \"100.1.\", rule: \"Loading Rules...\" }],\n        },\n      ],\n    },\n  ]);\n  const handleSectionChange = (section) => {\n    console.log(\"set Section: \", section);\n    setSelectedSection(parseInt(section));\n  };\n  const handleChapterChange = (chapter) => {\n    console.log(\n      \"chapterChange section argument: \",\n      parseInt(chapter.toString()[0])\n    );\n    if (parseInt(chapter.toString()[0]) !== selectedSection) {\n      handleSectionChange(parseInt(chapter.toString()[0]));\n    }\n    console.log(\"set chapter: \", selectedChapter);\n    setSelectedChapter(chapter);\n  };\n  const findChapter = (sectionToFind, chapterToFind) => {\n    console.log(\"findchapterdata: \", parsedRules);\n    console.log(\"findchapterSection: \", sectionToFind);\n    console.log(\"findchapter: \", chapterToFind);\n    return parsedRules\n      .find((section) => section.id === parseInt(sectionToFind))\n      .chapters.find((chapter) => chapter.id === parseInt(chapterToFind));\n  };\n  const findSection = (sectionToFind = selectedSection) => {\n    return parsedRules.find((section) => section.id === sectionToFind);\n  };\n  const nextChapter = () => {\n    if (findChapter(selectedSection, selectedChapter + 1) === undefined) {\n      console.log(\"last chapter\");\n    } else {\n      console.log(\"next chapter\");\n      setSelectedChapter(selectedChapter + 1);\n    }\n  };\n  const previousChapter = () => {\n    if (selectedChapter === selectedSection * 100) {\n      console.log(\"first chapter\");\n    } else {\n      setSelectedChapter(selectedChapter - 1);\n    }\n  };\n  const handleFetchError = (response) => {\n    if (!response.ok) {\n      alert(\n        \"There was an error fetching the rules. \\n Please try again when the winds of magic are more favorable.\"\n      );\n      throw Error(response.statusText);\n    }\n    return response;\n  };\n  //fetch rules. Remember to add error handling at some point\n  useEffect(() => {\n    fetch(rulesUrl)\n      .then(handleFetchError)\n      .then((response) => {\n        return response.text();\n      })\n      .then((textString) => {\n        setRules(textString);\n        console.log(\"rules set\");\n      });\n  }, [rulesUrl]);\n  //parse the rules\n  useEffect(() => {\n    setParsedRules(parser(rules));\n    console.log(\"parsing rules\");\n  }, [rules]);\n  //set what is shown in main view. Requires that parsedRules exists and has correct data structure. Remember to add error handling at some point\n  useEffect(() => {\n    setSelectedChapterData(findChapter(selectedSection, selectedChapter));\n    console.log(\"parsed rules change: chapter data update\");\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [parsedRules, selectedChapter, selectedSection]);\n  return (\n    <div className=\"App\">\n      <header className=\"page-header\">MtG Rules</header>\n      <section>\n        Under development, search and table of components non-functional. That\n        means there's no way to cyrrently see any other rules than chapter 100.,\n        but please come back tomorrow.\n      </section>\n      <SearchBox placeholder=\"Search\" />\n      <div className=\"container\">\n        <Chapter\n          id={selectedChapterData.id}\n          title={selectedChapterData.title}\n          rules={selectedChapterData.rules}\n        />\n        <TableOfContents\n          parsedRules={parsedRules}\n          nextChapter={nextChapter}\n          previousChapter={previousChapter}\n          sectionChange={handleSectionChange}\n          chapterChange={handleChapterChange}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n//import reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();\n"],"sourceRoot":""}